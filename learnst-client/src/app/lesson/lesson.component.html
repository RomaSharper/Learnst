<div class="container">
  <a mat-button routerLink="" (click)="goBack()">Назад</a>
  @if (!loading) {
    @switch (lesson?.lessonType) {
      @case (LessonType.LongRead) {
        <div class="md-container" [innerHTML]="innerHTML"></div>
      }
      @case (LessonType.Video) {
        <h2>{{ lesson?.title }}</h2>
        <div class="video-container">
          <app-vjs-player
            noDownloading
            id="videoPlayer"
            [options]="{
              fluid: true,
              controls: true,
              autoplay: true,
              playbackRates: [.5, 1, 1.5, 2],
              sources: [{
                type: 'video/mp4',
                src: lesson?.videoUrl!
              }]
            }"
          >
            Ваш браузер не поддерживает воспроизводение видео, скачайте его <a mat-raised-button [href]="'videos/' + lesson?.videoUrl">по этой ссылке</a>
          </app-vjs-player>
        </div>
      }
      @case (LessonType.Test) {
        <h2>{{ lesson?.title }}</h2>
        <app-questions [questions]="lesson?.questions"></app-questions>
      }
    }
  } @else {
    <mat-spinner></mat-spinner>
  }
</div>
